<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ¨ OpenClaw ä¸­ä½¿ç”¨ Pi</title>
    <style>
        :root {
            --bg: #0d1117;
            --card-bg: #161b22;
            --border: #30363d;
            --text: #c9d1d9;
            --text-muted: #8b949e;
            --accent: #58a6ff;
            --accent-green: #3fb950;
            --accent-orange: #d29922;
            --accent-red: #f85149;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            padding: 2rem 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 2rem;
        }
        header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        header .meta { color: var(--text-muted); font-size: 0.9rem; }
        .stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .stat {
            background: var(--card-bg);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        .stat strong { color: var(--accent); }
        section {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        section h2 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
        .breaking { border-left: 4px solid var(--accent-red); }
        .breaking h2 { color: var(--accent-red); }
        .news-item {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }
        .news-item:last-child { border-bottom: none; }
        .news-item h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        .news-item h3 a { color: var(--accent); text-decoration: none; }
        .news-item h3 a:hover { text-decoration: underline; }
        .news-item h3.no-link { color: var(--text); }
        .news-item p { color: var(--text-muted); font-size: 0.9rem; margin-top: 0.25rem; }
        .news-item .source { 
            font-size: 0.8rem; 
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        .news-item .source a { color: var(--accent); text-decoration: none; }
        .news-item .read-more {
            display: inline-block;
            margin-top: 0.5rem;
            color: var(--accent);
            text-decoration: none;
            font-size: 0.85rem;
        }
        .news-item .read-more:hover { text-decoration: underline; }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        th { color: var(--text-muted); font-weight: 600; }
        td a { color: var(--accent); text-decoration: none; }
        td a:hover { text-decoration: underline; }
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        .tool-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            text-decoration: none;
            color: inherit;
            display: block;
            transition: all 0.2s ease;
        }
        .tool-card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        .tool-card.no-link { cursor: default; }
        .tool-card.no-link:hover { transform: none; border-color: var(--border); }
        .tool-card h4 { color: var(--accent-green); margin-bottom: 0.25rem; }
        .tool-card.no-link h4 { color: var(--text); }
        .tool-card .type {
            font-size: 0.75rem;
            color: var(--accent-orange);
            margin-bottom: 0.5rem;
        }
        .tool-card p { font-size: 0.85rem; color: var(--text-muted); }
        .insight-list { list-style: none; }
        .insight-list li {
            padding: 0.75rem 0;
            padding-left: 1.5rem;
            position: relative;
        }
        .insight-list li::before {
            content: "â†’";
            position: absolute;
            left: 0;
            color: var(--accent);
        }
        .insight-list strong { color: var(--accent-orange); }
        .action-list { list-style: none; }
        .action-list li {
            padding: 0.5rem 0;
            padding-left: 1.75rem;
            position: relative;
        }
        .action-list li::before {
            content: "â˜";
            position: absolute;
            left: 0;
            color: var(--accent-green);
        }
        .missing-link {
            font-size: 0.75rem;
            color: var(--accent-orange);
            opacity: 0.7;
        }
        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }
        @media (max-width: 600px) {
            body { padding: 1rem; }
            header h1 { font-size: 1.75rem; }
            .stats { flex-direction: column; gap: 0.5rem; }
        }
    </style>
</head>
<body>
    <nav style="margin-bottom: 1rem;">
        <a href="index.html" style="color: var(--text-muted); text-decoration: none; font-size: 0.9rem;">â† è¿”å›æŠ¥å‘Šç´¢å¼•</a>
    </nav>
<header>
        <h1>åœ¨ OpenClaw ä¸­ä½¿ç”¨ Pi</h1>
        <p class="meta"></p>
        <div class="stats"></div></header><section><h2>ç›®å½•</h2></section><section><h2>1. æ¦‚è¿°</h2><div class="news-item"><h3 class="no-link">1.1 ä»€ä¹ˆæ˜¯ Pi</h3><p>Pi æ˜¯ä¸€ä¸ª**æç®€ä¸»ä¹‰çš„ç»ˆç«¯ç¼–ç åŠ©æ‰‹æ¡†æ¶**ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ï¼š > "Adapt pi to your workflows, not the other way around." > ï¼ˆè®© Pi é€‚åº”ä½ çš„å·¥ä½œæµï¼Œè€Œä¸æ˜¯åè¿‡æ¥ï¼‰ Pi ç”± Mario Zechner å¼€å‘ï¼ˆlibGDX æ¸¸æˆå¼•æ“åˆ›å§‹äººï¼‰ï¼Œè®¾è®¡å“²å­¦æ˜¯**åšå‡æ³•è€ŒéåŠ æ³•**â€”â€”é€šè¿‡æä¾›å¼ºå¤§çš„æ‰©å±•æœºåˆ¶ï¼Œè®©ç”¨æˆ·è‡ªå·±æ„å»ºéœ€è¦çš„åŠŸèƒ½ï¼Œè€Œéå†…ç½®ä¸€å †å¯èƒ½ç”¨ä¸ä¸Šçš„ç‰¹æ€§ã€‚</p></div><div class="news-item"><h3 class="no-link">1.2 å®šä½</h3></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">1.2 å®šä½</h4><table><tr><th>ç»´åº¦</th><th>Pi çš„é€‰æ‹©</th></tr><tr><td>**å†…ç½®åŠŸèƒ½**</td><td>æç®€ï¼ˆä»… read/write/edit/bash å››ä¸ªå·¥å…·ï¼‰</td></tr><tr><td>**æ‰©å±•æ€§**</td><td>æå¼ºï¼ˆExtensionsã€Skillsã€Prompt Templatesã€Themesã€Packagesï¼‰</td></tr><tr><td>**è¿è¡Œæ¨¡å¼**</td><td>å¤šæ ·ï¼ˆInteractiveã€Printã€JSONã€RPCã€SDKï¼‰</td></tr><tr><td>**MCP æ”¯æŒ**</td><td>åˆ»æ„ä¸å†…ç½®ï¼ˆå¯é€šè¿‡æ‰©å±•å®ç°ï¼‰</td></tr><tr><td>**å­ä»£ç†**</td><td>åˆ»æ„ä¸å†…ç½®ï¼ˆå¯é€šè¿‡æ‰©å±•å®ç°ï¼‰</td></tr><tr><td>**æƒé™å¼¹çª—**</td><td>åˆ»æ„ä¸å†…ç½®ï¼ˆå¯é€šè¿‡æ‰©å±•å®ç°ï¼‰</td></tr></table></section><section><h2>2. æ¶æ„è®¾è®¡</h2><div class="news-item"><h3 class="no-link">1.3 å®˜æ–¹ Slogan</h3><p>``` "shittycodingagent.ai" â€” è‡ªå˜²å¼çš„å®˜ç½‘åŸŸå "robots need your body" â€” rentahuman.ai çš„æ ‡è¯­ï¼ˆç›¸å…³é¡¹ç›®ï¼‰ ```</p></div><div class="news-item"><h3 class="no-link">2.1 Monorepo ç»“æ„</h3><p>``` pi-mono/ â”œâ”€â”€ packages/ â”‚   â”œâ”€â”€ ai/              # ç»Ÿä¸€ LLM API å±‚ â”‚   â”œâ”€â”€ agent/           # Agent è¿è¡Œæ—¶æ ¸å¿ƒ â”‚   â”œâ”€â”€ coding-agent/    # ç»ˆç«¯ç¼–ç åŠ©æ‰‹ CLI â”‚   â”œâ”€â”€ tui/             # ç»ˆç«¯ UI æ¡†æ¶ â”‚   â”œâ”€â”€ web-ui/          # Web UI ç»„ä»¶ â”‚   â”œâ”€â”€ mom/             # Slack Bot é›†æˆ â”‚   â””â”€â”€ pods/            # vLLM GPU Pod ç®¡ç† â”œâ”€â”€ .pi/                 # é¡¹ç›®çº§é…ç½®ç›®å½• â”œâ”€â”€ AGENTS.md            # Agent å¼€å‘è§„èŒƒ â””â”€â”€ package.json ```</p></div><div class="news-item"><h3 class="no-link">2.2 åˆ†å±‚æ¶æ„</h3><p>``` â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                    åº”ç”¨å±‚ (Applications)                 â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚  â”‚ coding-agentâ”‚  â”‚     mom     â”‚  â”‚    pods     â”‚     â”‚ â”‚  â”‚ (ç»ˆç«¯ CLI)  â”‚  â”‚ (Slack Bot) â”‚  â”‚ (GPU ç®¡ç†)  â”‚     â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚         â”‚                â”‚                              â”‚ â”‚         â–¼                â–¼                              â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚ â”‚  â”‚       agent-core           â”‚  â† Agent è¿è¡Œæ—¶        â”‚ â”‚  â”‚  â€¢ å·¥å…·è°ƒç”¨ â€¢ çŠ¶æ€ç®¡ç†     â”‚                        â”‚ â”‚  â”‚  â€¢ äº‹ä»¶æµ â€¢ æ¶ˆæ¯é˜Ÿåˆ—       â”‚                        â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â”‚               â”‚                                         â”‚ â”‚               â–¼                                         â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚ â”‚  â”‚          pi-ai             â”‚  â† ç»Ÿä¸€ LLM æ¥å£       â”‚ â”‚  â”‚  â€¢ å¤š Provider æ”¯æŒ        â”‚                        â”‚ â”‚  â”‚  â€¢ Token/Cost è¿½è¸ª         â”‚                        â”‚ â”‚  â”‚  â€¢ è·¨ Provider åˆ‡æ¢        â”‚                        â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                    UI å±‚ (Presentation)                 â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚ â”‚  â”‚    tui      â”‚  â”‚   web-ui    â”‚                      â”‚ â”‚  â”‚ (ç»ˆç«¯æ¸²æŸ“)  â”‚  â”‚ (Web ç»„ä»¶)  â”‚                      â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ```</p></div></section><section><h2>3. æ ¸å¿ƒåŒ…åˆ†æ</h2><div class="news-item"><h3 class="no-link">2.3 äº‹ä»¶é©±åŠ¨æ¶æ„</h3><p>Pi é‡‡ç”¨äº‹ä»¶é©±åŠ¨è®¾è®¡ï¼Œæ‰€æœ‰æ“ä½œéƒ½å¯è¢«æ‹¦æˆªå’Œä¿®æ”¹ï¼š ``` ç”¨æˆ·è¾“å…¥ â”‚ â”œâ”€â–º input äº‹ä»¶ (å¯æ‹¦æˆª/è½¬æ¢) â”œâ”€â–º before_agent_start (å¯æ³¨å…¥æ¶ˆæ¯) â”œâ”€â–º agent_start â”‚   â”‚ â”‚   â””â”€â–º turn_start â”‚       â”œâ”€â–º context äº‹ä»¶ (å¯ä¿®æ”¹æ¶ˆæ¯) â”‚       â”‚ â”‚       â”‚   LLM å“åº”: â”‚       â”‚   â”œâ”€â–º tool_call (å¯é˜»æ­¢) â”‚       â”‚   â”‚   â””â”€â–º tool_result (å¯ä¿®æ”¹) â”‚       â”‚ â”‚       â””â”€â–º turn_end â”‚ â””â”€â–º agent_end ```</p></div><div class="news-item"><h3 class="no-link">3.1 @mariozechner/pi-ai</h3><p>**ç»Ÿä¸€çš„å¤š Provider LLM API**</p></div><div class="news-item"><h3 class="no-link">æ”¯æŒçš„ Providerï¼ˆ18+ï¼‰</h3></div><div class="news-item"><h3 class="no-link">æ ¸å¿ƒç‰¹æ€§</h3><p>```typescript import { getModel, stream, complete, Context } from '@mariozechner/pi-ai'; // 1. ç±»å‹å®‰å…¨çš„æ¨¡å‹é€‰æ‹©ï¼ˆIDE è‡ªåŠ¨è¡¥å…¨ï¼‰ const model = getModel('anthropic', 'claude-sonnet-4-20250514'); // 2. ç»Ÿä¸€çš„ä¸Šä¸‹æ–‡ç»“æ„ const context: Context = { systemPrompt: 'You are a helpful assistant.', messages: [{ role: 'user', content: 'Hello' }], tools: [myTool] }; // 3. æµå¼å“åº” for await (const event of stream(model, context)) { if (event.type === 'text_delta') { process.stdout.write(event.delta); } } // 4. è·¨ Provider æ— ç¼åˆ‡æ¢ const gpt = getModel('openai', 'gpt-4o'); const continuation = await complete(gpt, context); // è‡ªåŠ¨å¤„ç†æ¶ˆæ¯æ ¼å¼è½¬æ¢ ```</p></div><div class="news-item"><h3 class="no-link">åˆ›æ–°ç‚¹ï¼šè·¨ Provider Handoff</h3><p>Pi æ”¯æŒåœ¨å¯¹è¯ä¸­**æ— ç¼åˆ‡æ¢ä¸åŒ Provider**ï¼š</p></div><div class="news-item"><h3 class="no-link">3.2 @mariozechner/pi-agent-core</h3><p>**Agent è¿è¡Œæ—¶æ ¸å¿ƒ** ```typescript import { Agent } from "@mariozechner/pi-agent-core"; const agent = new Agent({ initialState: { systemPrompt: "You are helpful.", model: getModel("anthropic", "claude-sonnet-4-20250514"), tools: [readTool, bashTool], }, // æ¶ˆæ¯è½¬æ¢å™¨ï¼ˆè¿‡æ»¤è‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹ï¼‰ convertToLlm: (messages) => messages.filter(m => ["user", "assistant", "toolResult"].includes(m.role) ), // ä¸Šä¸‹æ–‡è½¬æ¢å™¨ï¼ˆç”¨äºå‹ç¼©ã€å‰ªæï¼‰ transformContext: async (messages) => pruneOldMessages(messages), }); // äº‹ä»¶è®¢é˜… agent.subscribe((event) => { switch (event.type) { case 'message_update': // æµå¼æ–‡æœ¬ case 'tool_execution_start': // å·¥å…·å¼€å§‹ case 'tool_execution_end': // å·¥å…·å®Œæˆ } }); await agent.prompt("Read the config file"); ```</p></div><div class="news-item"><h3 class="no-link">æ ¸å¿ƒæ¦‚å¿µ</h3></div><div class="news-item"><h3 class="no-link">3.3 @mariozechner/pi-coding-agent</h3><p>**ç»ˆç«¯ç¼–ç åŠ©æ‰‹ CLI**</p></div><div class="news-item"><h3 class="no-link">è¿è¡Œæ¨¡å¼</h3><p>```bash pi pi -p "Summarize this codebase" pi --mode json "Your task" pi --mode rpc import { createAgentSession } from "@mariozechner/pi-coding-agent"; ```</p></div><div class="news-item"><h3 class="no-link">å†…ç½®å·¥å…·</h3></div><div class="news-item"><h3 class="no-link">3.4 @mariozechner/pi-tui</h3><p>**ç»ˆç«¯ UI æ¡†æ¶**</p></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">æ”¯æŒçš„ Providerï¼ˆ18+ï¼‰</h4><table><tr><th>ç±»å‹</th><th>Provider</th></tr><tr><td>**API Key**</td><td>OpenAI, Anthropic, Google, Azure, Mistral, Groq, Cerebras, xAI, OpenRouter, Bedrock, MiniMax</td></tr><tr><td>**OAuth**</td><td>Anthropic Claude Pro/Max, OpenAI Codex, GitHub Copilot, Google Gemini CLI, Antigravity</td></tr><tr><td>**è‡ªå®šä¹‰**</td><td>ä»»ä½• OpenAI å…¼å®¹ APIï¼ˆOllamaã€vLLMã€LM Studio ç­‰ï¼‰</td></tr></table><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">æ ¸å¿ƒæ¦‚å¿µ</h4><table><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr><tr><td>**AgentMessage**</td><td>æ‰©å±•çš„æ¶ˆæ¯ç±»å‹ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—æ®µ</td></tr><tr><td>**Steering**</td><td>åœ¨å·¥å…·æ‰§è¡ŒæœŸé—´æ’å…¥æ¶ˆæ¯ï¼Œä¸­æ–­å½“å‰æµç¨‹</td></tr><tr><td>**Follow-up**</td><td>åœ¨ Agent å®Œæˆåè¿½åŠ æ¶ˆæ¯</td></tr><tr><td>**Context Transform**</td><td>å‘é€ç»™ LLM å‰çš„æ¶ˆæ¯é¢„å¤„ç†</td></tr></table><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">å†…ç½®å·¥å…·</h4><table><tr><th>å·¥å…·</th><th>åŠŸèƒ½</th></tr><tr><td>`read`</td><td>è¯»å–æ–‡ä»¶</td></tr><tr><td>`write`</td><td>å†™å…¥æ–‡ä»¶</td></tr><tr><td>`edit`</td><td>ç¼–è¾‘æ–‡ä»¶ï¼ˆç²¾ç¡®æ›¿æ¢ï¼‰</td></tr><tr><td>`bash`</td><td>æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>`grep`</td><td>æœç´¢å†…å®¹ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td>`find`</td><td>æŸ¥æ‰¾æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td>`ls`</td><td>åˆ—ç›®å½•ï¼ˆå¯é€‰ï¼‰</td></tr></table></section><section><h2>4. åˆ›æ–°ä¸ç‹¬åˆ›æ€§</h2><div class="news-item"><h3 class="no-link">æ ¸å¿ƒç‰¹æ€§</h3><p>```typescript import { TUI, Text, Editor, ProcessTerminal } from "@mariozechner/pi-tui"; const tui = new TUI(new ProcessTerminal()); tui.addChild(new Text("Welcome!")); const editor = new Editor(tui, theme); editor.onSubmit = (text) => handleInput(text); tui.addChild(editor); tui.start(); ```</p></div><div class="news-item"><h3 class="no-link">4.1 å“²å­¦åˆ›æ–°ï¼š"åˆ»æ„ä¸åš"</h3><p>Pi æœ€å¤§çš„åˆ›æ–°æ˜¯**åå‘æ€ç»´**â€”â€”é€šè¿‡ä¸å†…ç½®åŠŸèƒ½æ¥å®ç°æœ€å¤§çµæ´»æ€§ï¼š</p></div><div class="news-item"><h3 class="no-link">4.2 æŠ€æœ¯åˆ›æ–°</h3></div><div class="news-item"><h3 class="no-link">4.2.1 Session æ ‘å½¢ç»“æ„</h3><p>``` Session é‡‡ç”¨ JSONL + æ ‘å½¢ç»“æ„å­˜å‚¨ æ¯æ¡è®°å½•æœ‰ id å’Œ parentId æ”¯æŒåŸåœ°åˆ†æ”¯ï¼Œæ— éœ€åˆ›å»ºæ–°æ–‡ä»¶ [entry-1] â”€â–º [entry-2] â”€â–º [entry-3] â”€â–º [entry-4] â”‚ â””â”€â–º [entry-5] â”€â–º [entry-6]  (åˆ†æ”¯) ``` **ä¼˜åŠ¿**ï¼š</p></div><div class="news-item"><h3 class="no-link">4.2.2 æ‰©å±•ç³»ç»Ÿ</h3><p>Pi çš„æ‰©å±•ç³»ç»Ÿæ˜¯å…¶æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼š ```typescript // ä¸€ä¸ªæ‰©å±•å¯ä»¥: export default function (pi: ExtensionAPI) { // 1. æ³¨å†Œè‡ªå®šä¹‰å·¥å…· pi.registerTool({ name: "deploy", ... }); // 2. æ‹¦æˆªäº‹ä»¶ pi.on("tool_call", async (event, ctx) => { if (event.toolName === "bash" && isDangerous(event.input)) { return { block: true, reason: "Blocked dangerous command" }; } }); // 3. æ³¨å†Œå‘½ä»¤ pi.registerCommand("stats", { handler: async (args, ctx) => {} }); // 4. æ³¨å†Œå¿«æ·é”® pi.registerShortcut("ctrl+shift+p", { handler: async (ctx) => {} }); // 5. è‡ªå®šä¹‰ UI pi.registerMessageRenderer("my-type", renderer); // 6. ä¿®æ”¹ Provider pi.registerProvider("my-proxy", { baseUrl: "..." }); } ``` **ç¤ºä¾‹æ‰©å±•**ï¼ˆå®˜æ–¹ä»“åº“åŒ…å« 60+ ç¤ºä¾‹ï¼‰ï¼š</p></div><div class="news-item"><h3 class="no-link">4.2.3 Compactionï¼ˆä¸Šä¸‹æ–‡å‹ç¼©ï¼‰</h3><p>```typescript pi.on("session_before_compact", async (event, ctx) => { // è‡ªå®šä¹‰å‹ç¼©é€»è¾‘ const summary = await generateSummary(event.branchEntries); return { compaction: { summary, firstKeptEntryId: event.preparation.firstKeptEntryId, tokensBefore: event.preparation.tokensBefore, } }; }); ```</p></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">4.1 å“²å­¦åˆ›æ–°ï¼š"åˆ»æ„ä¸åš"</h4><table><tr><th>å¸¸è§åŠŸèƒ½</th><th>Pi çš„æ€åº¦</th><th>ç†ç”±</th></tr><tr><td>**MCP**</td><td>ä¸å†…ç½®</td><td>"æ„å»ºå¸¦ README çš„ CLI å·¥å…·å³å¯"</td></tr><tr><td>**å­ä»£ç†**</td><td>ä¸å†…ç½®</td><td>"é€šè¿‡ tmux æˆ–æ‰©å±•å®ç°"</td></tr><tr><td>**æƒé™å¼¹çª—**</td><td>ä¸å†…ç½®</td><td>"åœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œæˆ–è‡ªå»ºç¡®è®¤æµç¨‹"</td></tr><tr><td>**Plan Mode**</td><td>ä¸å†…ç½®</td><td>"å†™åˆ°æ–‡ä»¶ï¼Œæˆ–é€šè¿‡æ‰©å±•å®ç°"</td></tr><tr><td>**åå° Bash**</td><td>ä¸å†…ç½®</td><td>"ç”¨ tmuxï¼Œå®Œå…¨å¯è§‚å¯Ÿ"</td></tr></table></section><section><h2>Steps</h2><div class="news-item"><h3 class="no-link">4.2.4 Skills æ ‡å‡†</h3><p>Pi é‡‡ç”¨ [Agent Skills](https://agentskills.io) æ ‡å‡†ï¼š ```markdown <!-- .pi/skills/my-skill/SKILL.md --> Use this skill when the user asks about X. 1. Do this 2. Then that ``` ä½¿ç”¨ `/skill:my-skill` è°ƒç”¨ã€‚</p></div><div class="news-item"><h3 class="no-link">4.2.5 Prompt Caching æ”¯æŒ</h3><p>```bash PI_CACHE_RETENTION=long pi  # 5åˆ†é’Ÿ â†’ 1å°æ—¶ PI_CACHE_RETENTION=long pi  # å†…å­˜ç¼“å­˜ â†’ 24å°æ—¶ ```</p></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">4.3 è®¾è®¡äº®ç‚¹</h4><table><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr><tr><td>**çƒ­é‡è½½**</td><td>æ‰©å±•ã€Skillsã€ä¸»é¢˜æ”¯æŒ `/reload` çƒ­é‡è½½</td></tr><tr><td>**TypeBox Schema**</td><td>å·¥å…·å‚æ•°ä½¿ç”¨ TypeBox å®šä¹‰ï¼Œæ”¯æŒåºåˆ—åŒ–</td></tr><tr><td>**è‡ªåŠ¨è¡¥å…¨**</td><td>ç¼–è¾‘å™¨å†… `/` è§¦å‘å‘½ä»¤è¡¥å…¨ï¼Œ`Tab` è§¦å‘è·¯å¾„è¡¥å…¨</td></tr><tr><td>**ç²˜è´´å¤„ç†**</td><td>å¤§äº 10 è¡Œçš„ç²˜è´´è‡ªåŠ¨æŠ˜å ä¸ºæ ‡è®°</td></tr><tr><td>**IME æ”¯æŒ**</td><td>æ­£ç¡®å¤„ç†ä¸­æ—¥éŸ©è¾“å…¥æ³•</td></tr></table></section><section><h2>5. ä½¿ç”¨æŒ‡å—</h2><div class="news-item"><h3 class="no-link">4.3 è®¾è®¡äº®ç‚¹</h3></div><div class="news-item"><h3 class="no-link">5.1 å®‰è£…</h3><p>```bash npm install -g @mariozechner/pi-coding-agent ```</p></div><div class="news-item"><h3 class="no-link">5.2 é…ç½®</h3><p>```bash export ANTHROPIC_API_KEY=sk-ant-... pi pi /login  # é€‰æ‹© Provider ```</p></div><div class="news-item"><h3 class="no-link">5.3 åŸºæœ¬æ“ä½œ</h3><p>```bash pi pi "List all .ts files" pi -p "Summarize this codebase" pi -c pi -r pi --provider anthropic --model claude-sonnet-4-20250514 pi --thinking high "Complex problem" ```</p></div><div class="news-item"><h3 class="no-link">5.4 ç¼–è¾‘å™¨å¿«æ·é”®</h3></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">5.4 ç¼–è¾‘å™¨å¿«æ·é”®</h4><table><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th></tr><tr><td>`Enter`</td><td>æäº¤</td></tr><tr><td>`Shift+Enter`</td><td>æ¢è¡Œ</td></tr><tr><td>`Tab`</td><td>è‡ªåŠ¨è¡¥å…¨</td></tr><tr><td>`Ctrl+C`</td><td>æ¸…ç©ºç¼–è¾‘å™¨</td></tr><tr><td>`Ctrl+C x2`</td><td>é€€å‡º</td></tr><tr><td>`Escape`</td><td>å–æ¶ˆ/ä¸­æ­¢</td></tr><tr><td>`Escape x2`</td><td>æ‰“å¼€ `/tree`</td></tr><tr><td>`Ctrl+L`</td><td>æ¨¡å‹é€‰æ‹©å™¨</td></tr><tr><td>`Ctrl+P`</td><td>å¾ªç¯æ¨¡å‹</td></tr><tr><td>`Shift+Tab`</td><td>å¾ªç¯ Thinking Level</td></tr><tr><td>`Ctrl+O`</td><td>å±•å¼€/æŠ˜å å·¥å…·è¾“å‡º</td></tr><tr><td>`Ctrl+T`</td><td>å±•å¼€/æŠ˜å  Thinking</td></tr></table><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">5.5 å‘½ä»¤å‚è€ƒ</h4><table><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr><tr><td>`/login`, `/logout`</td><td>OAuth è®¤è¯</td></tr><tr><td>`/model`</td><td>åˆ‡æ¢æ¨¡å‹</td></tr><tr><td>`/settings`</td><td>è®¾ç½®</td></tr><tr><td>`/new`</td><td>æ–°ä¼šè¯</td></tr><tr><td>`/resume`</td><td>æ¢å¤ä¼šè¯</td></tr><tr><td>`/tree`</td><td>ä¼šè¯æ ‘å¯¼èˆª</td></tr><tr><td>`/fork`</td><td>åˆ†å‰ä¼šè¯</td></tr><tr><td>`/compact`</td><td>æ‰‹åŠ¨å‹ç¼©ä¸Šä¸‹æ–‡</td></tr><tr><td>`/copy`</td><td>å¤åˆ¶æœ€åå›å¤</td></tr><tr><td>`/export`</td><td>å¯¼å‡ºä¸º HTML</td></tr><tr><td>`/share`</td><td>ä¸Šä¼ ä¸º Gist</td></tr><tr><td>`/reload`</td><td>é‡è½½æ‰©å±•</td></tr></table></section><section><h2>6. Demo ç¤ºä¾‹</h2><div class="news-item"><h3 class="no-link">5.5 å‘½ä»¤å‚è€ƒ</h3></div><div class="news-item"><h3 class="no-link">6.1 åŸºç¡€ SDK ä½¿ç”¨</h3><p>```typescript // demo-basic.ts import { AuthStorage, createAgentSession, ModelRegistry, SessionManager } from "@mariozechner/pi-coding-agent"; async function main() { const authStorage = new AuthStorage(); const modelRegistry = new ModelRegistry(authStorage); const { session } = await createAgentSession({ sessionManager: SessionManager.inMemory(), authStorage, modelRegistry, }); // è®¢é˜…äº‹ä»¶ session.subscribe((event) => { if (event.type === "message_update" && event.assistantMessageEvent.type === "text_delta") { process.stdout.write(event.assistantMessageEvent.delta); } }); // å‘é€è¯·æ±‚ await session.prompt("What files are in the current directory?"); } main().catch(console.error); ```</p></div><div class="news-item"><h3 class="no-link">6.2 è‡ªå®šä¹‰æ‰©å±•</h3><p>```typescript // my-extension.ts import type { ExtensionAPI } from "@mariozechner/pi-coding-agent"; import { Type } from "@sinclair/typebox"; export default function (pi: ExtensionAPI) { // 1. å±é™©å‘½ä»¤æ‹¦æˆª pi.on("tool_call", async (event, ctx) => { if (event.toolName === "bash") { const cmd = event.input.command || ""; if (cmd.includes("rm -rf") || cmd.includes("sudo")) { const ok = await ctx.ui.confirm( "âš ï¸ å±é™©å‘½ä»¤", `ç¡®è®¤æ‰§è¡Œ: ${cmd}?` ); if (!ok) return { block: true, reason: "ç”¨æˆ·å–æ¶ˆ" }; } } }); // 2. è‡ªå®šä¹‰å·¥å…· pi.registerTool({ name: "timestamp", label: "Timestamp", description: "Get current timestamp in various formats", parameters: Type.Object({ format: Type.Optional(Type.String({ description: "iso, unix, or human" })), }), async execute(toolCallId, params) { const now = new Date(); let result: string; switch (params.format) { case "unix": result = String(Math.floor(now.getTime() / 1000)); break; case "human": result = now.toLocaleString(); break; default: result = now.toISOString(); } return { content: [{ type: "text", text: result }], details: {} }; }, }); // 3. è‡ªå®šä¹‰å‘½ä»¤ pi.registerCommand("hello", { description: "Say hello", handler: async (args, ctx) => { ctx.ui.notify(`Hello, ${args || "world"}! ğŸ‰`, "info"); }, }); // 4. ä¼šè¯å¯åŠ¨é€šçŸ¥ pi.on("session_start", async (_event, ctx) => { ctx.ui.setStatus("my-ext", "ğŸš€ Extension loaded"); }); } ``` ä½¿ç”¨ï¼š ```bash pi -e ./my-extension.ts ```</p></div></section><section><h2>7. ä¸ç«å“å¯¹æ¯”</h2><div class="news-item"><h3 class="no-link">6.3 RPC æ¨¡å¼é›†æˆ</h3><p>```typescript // rpc-client.ts import { spawn } from "child_process"; import * as readline from "readline"; const pi = spawn("pi", ["--mode", "rpc"], { stdio: ["pipe", "pipe", "inherit"], }); const rl = readline.createInterface({ input: pi.stdout }); rl.on("line", (line) => { const event = JSON.parse(line); console.log("Event:", event.type); }); // å‘é€æç¤º pi.stdin.write(JSON.stringify({ method: "prompt", params: { text: "Hello!" } }) + "\n"); ```</p></div><div class="news-item"><h3 class="no-link">7.1 å¯¹æ¯”çŸ©é˜µ</h3></div><div class="news-item"><h3 class="no-link">7.2 æ ¸å¿ƒå·®å¼‚</h3><p>**Pi vs Claude Code** **Pi vs Cursor** **Pi vs Aider**</p></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">7.1 å¯¹æ¯”çŸ©é˜µ</h4><table><tr><th>ç‰¹æ€§</th><th>Pi</th><th>Claude Code</th><th>Cursor</th><th>Aider</th><th>Continue</th></tr><tr><td>**å¼€æº**</td><td>âœ… MIT</td><td>âŒ</td><td>âŒ</td><td>âœ… Apache</td><td>âœ… Apache</td></tr><tr><td>**ç»ˆç«¯åŸç”Ÿ**</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>**å¤š Provider**</td><td>âœ… 18+</td><td>âŒ Claude only</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>**æ‰©å±•ç³»ç»Ÿ**</td><td>âœ… å¼ºå¤§</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>**Session åˆ†æ”¯**</td><td>âœ… æ ‘å½¢</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>**è‡ªå®šä¹‰å·¥å…·**</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>**SDK åµŒå…¥**</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>**MCP**</td><td>æ‰©å±•</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>**å­ä»£ç†**</td><td>æ‰©å±•</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr></table></section><section><h2>8. æ€»ç»“ä¸å»ºè®®</h2><div class="news-item"><h3 class="no-link">7.3 Pi çš„æœ€ä½³åœºæ™¯</h3><p>1. **éœ€è¦æ·±åº¦å®šåˆ¶**ï¼šæ‰©å±•ç³»ç»Ÿæ— ä¸ä¼¦æ¯” 2. **å¤š Provider åˆ‡æ¢**ï¼šè·¨ Provider Handoff ç‹¬å®¶ 3. **åµŒå…¥å…¶ä»–åº”ç”¨**ï¼šSDK æ¨¡å¼æ”¯æŒ 4. **ç»ˆç«¯é‡åº¦ç”¨æˆ·**ï¼šTUI ä½“éªŒä¼˜ç§€ 5. **éšç§æ•æ„Ÿ**ï¼šå¯å®Œå…¨æœ¬åœ°è¿è¡Œï¼ˆOllamaï¼‰</p></div><div class="news-item"><h3 class="no-link">8.1 ä¼˜åŠ¿</h3></div><div class="news-item"><h3 class="no-link">8.2 å±€é™</h3></div><div class="news-item"><h3 class="no-link">8.3 å»ºè®®ä½¿ç”¨åœºæ™¯</h3><p>âœ… **æ¨èä½¿ç”¨**ï¼š âŒ **ä¸æ¨èä½¿ç”¨**ï¼š</p></div><h4 style="color: var(--text-muted); margin: 1rem 0 0.75rem;">8.1 ä¼˜åŠ¿</h4><table><tr><th>æ–¹é¢</th><th>è¯„ä»·</th></tr><tr><td>**è®¾è®¡å“²å­¦**</td><td>â­â­â­â­â­ æç®€ä¸»ä¹‰ + æè‡´æ‰©å±•æ€§</td></tr><tr><td>**æ¶æ„è´¨é‡**</td><td>â­â­â­â­â­ åˆ†å±‚æ¸…æ™°ã€äº‹ä»¶é©±åŠ¨</td></tr><tr><td>**æ‰©å±•èƒ½åŠ›**</td><td>â­â­â­â­â­ å‡ ä¹å¯ä»¥æ”¹å˜ä¸€åˆ‡</td></tr><tr><td>**å¤š Provider**</td><td>â­â­â­â­â­ ä¸šç•Œæœ€å…¨</td></tr><tr><td>**æ–‡æ¡£è´¨é‡**</td><td>â­â­â­â­ è¯¦å°½ä½†éœ€è¦æ—¶é—´æ¶ˆåŒ–</td></tr><tr><td>**ç¤¾åŒºæ´»è·ƒ**</td><td>â­â­â­ Discord æ´»è·ƒï¼Œä½†è§„æ¨¡è¾ƒå°</td></tr></table></section><section><h2>é™„å½•</h2><div class="news-item"><h3 class="no-link">8.4 OpenClaw é›†æˆ</h3><p>OpenClaw å·²é›†æˆ Pi ä½œä¸º coding-agent æŠ€èƒ½ä¹‹ä¸€ï¼š ```bash bash pty:true workdir:~/project command:"pi 'Your task'" ``` Pi çš„ SDK æ¨¡å¼ä¹Ÿå¯ä»¥æ›´æ·±åº¦åœ°åµŒå…¥ OpenClawï¼š ```typescript import { createAgentSession } from "@mariozechner/pi-coding-agent"; // åœ¨ OpenClaw Gateway ä¸­è¿è¡Œ Pi session const { session } = await createAgentSession({...}); await session.prompt(userTask); ```</p></div><div class="news-item"><h3 class="no-link">A. ç›¸å…³é“¾æ¥</h3></div><div class="news-item"><h3 class="no-link">B. ç‰ˆæœ¬å†å²å…³é”®ç‚¹</h3></div><div class="news-item"><h3 class="no-link">C. è´¡çŒ®è€…</h3><p>*æŠ¥å‘Šå®Œæˆæ—¶é—´ï¼š2026-02-08* *è°ƒç ”äººï¼šOpenClaw Agent*</p></div></section><footer>
        <p>æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026/2/8 21:38:11 GMT+8</p>
        <p>Generated by Miles AI Assistant âš¡</p>
    </footer>
</body>
</html>